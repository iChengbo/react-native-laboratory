# React Native å®éªŒå®¤ - é¡¹ç›®åˆå§‹åŒ–

## å¼•è¨€
<u>[githubä¼ é€é—¨](https://github.com/iChengbo/react-native-laboratory)</u>


æœ¬æ–‡ä¸»è¦ä»‹ç»ä»¥ä¸‹å‡ éƒ¨åˆ†ã€‚

- åˆå§‹åŒ–
- è·¯ç”±è·³è½¬

## ä¸€ã€åˆå§‹åŒ– React Native é¡¹ç›®
### RN åŸºç¡€ç¯å¢ƒé…ç½®

<u>[React Native ä¸­æ–‡ç½‘ä¹‹æ­å»ºå¼€å‘ç¯å¢ƒ](https://reactnative.cn/docs/getting-started/)</u>

é¡¹ç›®åˆå§‹åŒ–å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œå†™çš„æ¯”è¾ƒè¯¦ç»†ã€‚å…¶ä¸­ï¼Œé¡¹ç›®æ–°å»ºå¯ä»¥å½’çº³ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š
#### init
```
npx react-native init RNLaboratory
```

#### run
```
cd RNLaboratory
react-native run-ios
```

#### æ³¨æ„ï¼š

1. å®‰è£… CocoaPods

ç”±äº RN 0.60+ ç‰ˆæœ¬ä¾èµ– CocoaPodsï¼Œä½†æ˜¯å›½å†…éš¾ä»¥è®¿é—®æ­¤ä»“åº“ã€‚æ‰€ä»¥ï¼Œåœ¨æ‰§è¡Œ `npx react-native init RNLaboratory` è¿›è¡Œåˆå§‹åŒ–é¡¹ç›®æ—¶ä¼šå¡åœ¨ **info Installing required CocoaPods dependencies**ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![éé•œåƒå®‰è£…å¡é¡¿å›¾](./img/init-1.png)

æ­¤æ—¶å¯ä»¥å®‰è£…å›½å†…é•œåƒï¼Œ<u>[å‚è€ƒæ–‡æ¡£](https://mirror.tuna.tsinghua.edu.cn/help/CocoaPods/)</u>ã€‚è‹¥å®ç°å®‰è£…å¥½æ­¤é•œåƒï¼Œå½“æ‰§è¡Œ `npx react-native init RNLaboratory` æ—¶ï¼Œä¼šå‘ç°åˆå§‹åŒ–é¡¹ç›®å¾ˆå¿«ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![é•œåƒå®‰è£…å›¾](./img/init-2.png)

2. è‹¥åœ¨ **xcode** ç›´æ¥è¿è¡Œåº”ç”¨æ—¶åº”é€‰æ‹© **.xcworkspace** æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ **.xcodeproj** æ–‡ä»¶ã€‚

å½“ä»¥ä¸Šæ­¥éª¤é¡ºåˆ©å®Œæˆåï¼Œä½¿ç”¨å‘½ä»¤ `react-native run-ios` å¯åŠ¨ `APP`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
<div align=center>
    <img src="./img/defaultApp.png" alt="RNå¯åŠ¨é»˜è®¤å›¾" style="height: 407px;" />
</div>

## äºŒã€å¯¼èˆªåº“

### 1. é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å¯¼èˆªåº“

åœ¨ä½¿ç”¨React Nativeå¼€å‘ç§»åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œæœ€é‡è¦çš„æ­¥éª¤ä¹‹ä¸€å°±æ˜¯é€‰æ‹©åˆé€‚çš„å¯¼èˆªåº“ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§é€‰æ‹©æ–¹æ¡ˆï¼š

- <u>[react-navigation å®˜æ–¹æ–‡æ¡£](https://reactnavigation.org/en/)</u>

- <u>[react-native-navigation å®˜æ–¹æ–‡æ¡£](https://wix.github.io/react-native-navigation/#/)</u>


åœ¨é¡¹ç›® <u>**[React Native å®éªŒå®¤](https://github.com/iChengbo/react-native-laboratory)**</u> ä¸­é€‰æ‹©äº† `react-navigation` ä½œä¸ºå¯¼èˆªåº“ï¼Œåœ¨æ­¤ä¸åšè¯¦ç»†å¯¹æ¯”ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒä»¥ä¸‹é“¾æ¥ï¼š

- <u>[React Navigation vs. React Native Navigation: Which is right for you?](https://blog.logrocket.com/react-navigation-vs-react-native-navigation-which-is-right-for-you-3d47c1cd1d63/)</u>

- <u>[Reactå¯¼èˆªçš„ä¸»è¦è´¡çŒ®è€…Brent Vatneçš„ç²¾å½©æ¼”è®²](https://www.youtube.com/watch?v=GBhdooVxX6Q)</u>

- <u>[](https://www.youtube.com/watch?v=wJJZ9Od8MjM)</u>


### 2. å®‰è£…åŠé…ç½®

#### å®‰è£…

1. å®‰è£… `react-navigation`
```
yarn add react-navigation
# or with npm
# npm install react-navigation
```
2. å®‰è£… `react-navigation` ç›¸å…³ä¾èµ–

```
yarn add react-native-reanimated react-native-gesture-handler react-native-screens react-native-safe-area-context
```

#### IOS é…ç½®
```
cd ios
pod install
cd ..
```

#### Android é…ç½®

1. ä¿®æ”¹`android/app/build.gradle`, åœ¨è¯¥æ–‡ä»¶ `dependencies` ä¸­æ·»åŠ å¦‚ä¸‹ä¸¤è¡Œä»£ç ï¼š

```java
implementation 'androidx.appcompat:appcompat:1.1.0-rc01'
implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0-alpha02'
```

2.   ä¿®æ”¹ `android/app/src/main/java/com/APP_NAME/MainActicity.java`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```diff
package com.reactnavigation.example;

import com.facebook.react.ReactActivity;
+ import com.facebook.react.ReactActivityDelegate;
+ import com.facebook.react.ReactRootView;
+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;

public class MainActivity extends ReactActivity {

  @Override
  protected String getMainComponentName() {
    return "Example";
  }

+  @Override
+  protected ReactActivityDelegate createReactActivityDelegate() {
+    return new ReactActivityDelegate(this, getMainComponentName()) {
+      @Override
+      protected ReactRootView createRootView() {
+        return new RNGestureHandlerEnabledRootView(MainActivity.this);
+      }
+    };
+  }
}
```

#### æ³¨æ„ï¼š

1. è‹¥ä½¿ç”¨å¯¼èˆªå™¨ `createStackNavigator` ï¼Œåˆ™éœ€å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š
```
yarn add react-navigation-stack @react-native-community/masked-view
```



### 3. react-navigation ç®€ä»‹

> **react-navigation** æä¾›äº†ç®€å•æ˜“ç”¨çš„è·¨å¹³å°å¯¼èˆªæ–¹æ¡ˆï¼Œåœ¨ iOS å’Œ Android ä¸Šéƒ½å¯ä»¥è¿›è¡Œç¿»é¡µå¼ã€tab é€‰é¡¹å¡å¼å’ŒæŠ½å±‰å¼çš„å¯¼èˆªå¸ƒå±€ã€‚å…¶æä¾›ä»¥ä¸‹7ä¸ªAPIç”¨äºå®ç°ä¸åŒçš„å¯¼èˆªæ–¹å¼ï¼Œä»¥ä¸‹ç®€å•è¯´æ˜å„è‡ªæ•ˆæœã€‚ï¼ˆæ­¤å¤„ä¸åšè¿‡å¤šä»‹ç»ï¼Œæ¯•ç«Ÿ<u>[å®˜æ–¹ç½‘ç«™](https://reactnavigation.org/en/)</u>å†™çš„è¿˜ç®—ä¸é”™...ğŸ˜ğŸ˜ğŸ˜ï¼‰

- createStackNavigator
    > åŸºç¡€
- createSwitchNavigator
    > ä»‹ç»
- createAnimatedSwitchNavigator
    > ä»‹ç»
- createDrawerNavigator
    > ä»‹ç»
- createBottomTabNavigator
    > ä»‹ç»
- createMaterialBottomTabNavigator
    > ä»‹ç»
- createMaterialTopTabNavigator
    > ä»‹ç»

æ³¨æ„ï¼š

1. è‹¥è¿è¡Œæ—¶æŠ¥ä»¥ä¸‹é”™è¯¯ï¼Œå¯æ ¹æ®æç¤ºçŸ¥ç›¸åº”çš„APIå·²ç”± `react-navigation` ç§»è‡³ç›¸åº”çš„åº“ï¼Œéœ€å®‰è£…ç›¸åº”çš„ä¾èµ–ã€‚

    <div align=center>
        <img src="./img/Error-1.png" alt="react-navigationé”™è¯¯" style="height: 407px;" />
    </div>

1. è‹¥å¼•å…¥ `react-native-vector-icons` æ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼Œå¯å‚è€ƒ <u>[How to use vector icons in your react-native project](https://medium.com/@vimniky/how-to-use-vector-icons-in-your-react-native-project-8212ac6a8f06)</u> è§£å†³ã€‚

    <div align=center>
        <img src="./img/Error-2.png" alt="Iconsé”™è¯¯" style="height: 407px;" />
    </div>



åœ¨é¡¹ç›® <u>**[React Native å®éªŒå®¤](https://github.com/iChengbo/react-native-laboratory)**</u> ä¸­åŸºäº xxxã€xxx... å®ç°äº†åŸºç¡€è·¯ç”±è·³è½¬åŠŸèƒ½ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š

<div align=center>
    <img src="./img/demo.gif" alt="æ•ˆæœæ¼”ç¤º" style="height: 407px;" />
</div>


## åè¯




